"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const n=Array.isArray.bind(Array);function t(n,t){return Object.keys(n).reduce(function(r,e){return r[e]=t(e,n[e]),r},{})}exports.default=function(r,e={}){return t(r,function(r,e){const o=t(e,function(t,r){return n(r)?r.slice():r});return function(t,...r){const e=!n(t&&t.raw),u=e?t:t.join(r.length?"%s":""),c=o[u];return e?!c||n(c)?u:c:c?function(t,r){const e=(n(t)?function(n,t){const r=n.length;return n[t<r?t<0?0:t:r-1]}(t,r[0]):t).split(/%(\d+)/);let o=e.length;for(;--o>0;){const n=e[--o];e[o]=r[n]}return e.join("")}(c,r):String.raw(...arguments)}})};